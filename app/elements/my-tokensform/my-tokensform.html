<dom-module id="my-tokensform">
    <template>
        <style>
            :host {
                display: inline-block;
            }

            #form {
                display: none;
            }
        </style>

        <form id="form" action="">
            <p id="name" name$="{{data.name}}">Componente {{getName}}</p>
            <br>
            <template is="dom-repeat" items="{{getAttr}}">
                <p id="attr" name$="{{item.name}}">Atributo {{item.name}}</p>
            </template>

            <br>
            <input type="text" name="" value="">
            <br> Last name:
            <br>
            <input type="text" name="" value="">
            <br>
            <br>
            <!-- Voy a crear la logica para el boton o el submit -->
            <input id="submit" type="submit" value="Submit" on-click="_sendForm">
            
        </form>

    </template>
    <script>
        Polymer({
            is: 'my-tokensform',
            properties: {
                params_need: {
                    type: String,
                    value: ""
                },
                value_param: {
                    type: String,
                    value: ""
                },
                prop_comp: {
                    type: String,
                    value: ""
                }
            },
            _showproperties: function (name, data) {
                this.$.form.style.display = 'block';
                this.getName = data.name;
                var attributes = data.data[0].attributes;
                this.getAttr = Object.keys(attributes).map(function(key){
                    return {
                        name: key,
                        value: attributes[key]
                    }
                });               
            },
            _sendForm: function(evt){
                //Habra que comprobar si haciendo una peticion sale bien

                //Habra que hacer que se muestre la calidad ( entre los {} habra que meter los datos necesarios)
                this.fire("my-form-click", { });
            }
        });
    </script>
</dom-module>